---
layout: post
title: "[Spring] Reactor"
author: "Qoo"
category: Spring
---

# Reactor
[Reactor Core](https://github.com/reactor/reactor-core) 는 reactive programming  모델을 구현하는 Java 8 라이브러리 입니다.

Reactive Application을 만들기 위한 표준인 [Reactive Streams Specification](http://www.reactive-streams.org/) 위에 구축이 되었습니다.

## Reactive Streams Specification
기본적으로 비동기 스트림 처리를 위한 명세입니다.

많은 이벤트가 생성되고 비동기적으로 소비되는 시스템입니다.

소비자에게 이벤트를 처리할 수 있는 것보다 더 빨리 이벤프를 보내는 생산자가 있다면, 결국 소비자는 시스템 리소스가 부족해져 전복될 것이다.
Backpressure 는 소비자가 생산자에게 이런 문제를 방지하기 위해서, 얼만큼에 데이터를 보낼 지 알려 줄 수 있는것을 의미한다.


# Reactor
Reactor는 Mono 와  Flux 의 두 가지 핵심 유형으로 구성  됩니다

이 둘은 모두 데이터 스트림이지만 

#### Mono
최대 1개 값의 스트림입니다.

#### Flux
무한한 값의 스트림입니다.

이 두 유형의 차이는 상대적으로 매우 적습니다.

연산에 변경할 수 없는 단일값을 가지고있는 연산에 경우에는 Flux 가 아닌  Mono를 사용해야합니다.
물론 .. Flux 로도 사용할 수 있습니다.

JpaRepository의 findOne 을 생각하면 조금 더 이해가 쉬울 수 있습니다.

#### 스트림 구독
스트림에서 데이터를 요청하는 것은 해당 스트림을 구독해서 수행됩니다.

물론 전통적인 방식으로 데이터를 얻고 싶다면, 데이터를 얻을 떄까지 stream 을 block 할 수 있습니다.

Mono 는 값이 해결되는 즉시 return 하는 하는 single block 이 있다.
Flux 는 







#### 참고
http://www.baeldung.com/reactor-core
https://stackify.com/reactive-spring-5/